@{
    ViewData["Title"] = "Solicitudes Certificados Pendientes";
}

<h2>Generar Certificado de Residencia</h2>

<form method="post" asp-controller="Certificados" asp-action="GenerarCertificado">
    <div class="mb-3">
        <label for="nombre" class="form-label">Nombre completo</label>
        <input type="text" class="form-control" id="nombre" name="nombre" required>
    </div>
    <div class="mb-3">
        <label for="rut" class="form-label">RUT</label>
        <input type="text" class="form-control" id="rut" name="rut" required>
    </div>
    <div class="mb-3">
        <label for="direccion" class="form-label">Dirección</label>
        <input type="text" class="form-control" id="direccion" name="direccion" required>
    </div>
    <div class="mb-3">
        <label for="comuna" class="form-label">Comuna</label>
        <input type="text" class="form-control" id="comuna" name="comuna" required>
    </div>
    <div class="mb-3">
        <label for="fecha" class="form-label">Fecha de emisión</label>
        <input type="date" class="form-control" id="fecha" name="fecha" required>
    </div>
    <button type="submit" class="btn btn-primary">Generar Certificado</button>
</form>

@if (ViewBag.Message != null)
{
    <div class="alert alert-info mt-3">
        @ViewBag.Message
        @if (ViewBag.PdfUrl != null)
        {
            <br />
            <a href="@ViewBag.PdfUrl" target="_blank" class="btn btn-success mt-2">Descargar Certificado</a>
        }
    </div>
}

